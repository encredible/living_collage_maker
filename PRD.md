# Living Collage Maker - 제품 요구사항 문서 (PRD)

## 1. 제품 개요

Living Collage Maker는 사용자가 가구를 드래그 앤 드롭으로 배치하여 인테리어 콜라주를 만들 수 있는 애플리케이션입니다. 사용자는 다양한 가구를 캔버스에 배치하고, 크기를 조절하며, 최종 결과물을 저장할 수 있습니다.

## 2. 핵심 기능

### 2.1 가구 탐색 및 필터링
- 가구 목록을 테이블 형태로 표시
- 각 가구 항목은 썸네일, 브랜드, 이름, 가격 정보 포함
- 필터링 기능:
  - 검색어로 가구 검색
  - 브랜드별 필터링
  - 타입별 필터링
  - 가격대별 필터링

### 2.2 드래그 앤 드롭 기능
- 가구 목록에서 캔버스로 드래그 앤 드롭
- 드래그 시 가구 데이터를 MIME 데이터로 전송
- 드롭 시 가구 이미지를 캔버스에 표시
- 드롭된 가구는 자유롭게 이동 및 크기 조절 가능

### 2.3 캔버스 관리
- 새 콜라주 생성 시 캔버스 크기 설정 가능
- 캔버스 크기에 맞춰 윈도우 크기 자동 조정
- 캔버스 테두리와 크기 표시
- 가구 아이템 우클릭으로 삭제 기능

### 2.4 이미지 관리
- 이미지 캐싱 시스템 구현
  - `.image` 폴더에 PNG 형식으로 저장
  - 캐시된 이미지는 재사용
  - 이미지 로드 상태 로깅
- 썸네일 생성 및 캐싱
- 이미지 로드 실패 시 기본 이미지 표시

### 2.5 하단 패널
- 선택된 가구 목록 표시
- 선택된 가구 수 표시
- 총 가격 계산 및 표시
- 가구 삭제 시 자동 업데이트

### 2.6 콜라주 내보내기
- 현재 콜라주를 이미지로 저장
- PNG/JPEG 형식 지원
- 저장 위치 선택 가능

## 3. 기술 스택

### 3.1 프론트엔드
- PyQt6
- QTableView 및 QStandardItemModel
- QGraphicsView (향후 구현 예정)

### 3.2 백엔드
- Python
- Supabase (데이터베이스 및 이미지 저장)
- SQLite (로컬 캐시)

## 4. 데이터 모델

### 4.1 가구 (Furniture)
```python
class Furniture:
    id: str
    name: str
    brand: str
    type: str
    price: int
    image_filename: str
    description: str
    link: str
    color: str
    locations: List[str]
    styles: List[str]
    width: float
    depth: float
    height: float
    seat_height: float
    author: str
    created_at: datetime
```

## 5. UI/UX 디자인

### 5.1 레이아웃
- 메인 윈도우: 1200x800 기본 크기
- 캔버스: 사용자 정의 크기 (최소 800x600)
- 우측 패널: 400px 고정 너비
- 하단 패널: 200px 고정 높이

### 5.2 색상 테마
- 배경: 흰색 (#FFFFFF)
- 주요 색상: #2C3E50
- 강조 색상: #E74C3C (삭제 버튼)
- 테두리: #DDDDDD

## 6. 성능 요구사항
- 이미지 로딩 시간: 1초 이내
- 드래그 앤 드롭 반응성: 16ms 이내
- 필터링 응답 시간: 100ms 이내

## 7. 향후 개선사항 (To-do List)

### 7.1 우선순위 높음
- [ ] 가구 회전 기능 구현
- [ ] 가구 크기 조절 시 그리드 스냅 기능
- [ ] 작업 내용 저장/불러오기 기능
- [ ] 이미지 최적화 및 캐시 관리 개선
- [ ] 에러 처리 및 사용자 피드백 강화

### 7.2 우선순위 중간
- [ ] 가구 배치 히스토리 (실행 취소/다시 실행)
- [ ] 가구 그룹화 기능
- [ ] 가구 정렬 기능
- [ ] 가구 복제 기능
- [ ] 가구 레이어 관리

### 7.3 우선순위 낮음
- [ ] 3D 뷰 모드
- [ ] 가구 커스터마이징 기능
- [ ] 가구 추천 시스템
- [ ] 공유 기능
- [ ] 가구 가격 비교 기능

## 8. 제한사항
- 최대 캔버스 크기: 4000x4000 픽셀
- 최대 가구 개수: 100개
- 지원 이미지 형식: JPG, PNG
- 최대 이미지 크기: 5MB

## 9. 테스트 요구사항
- 단위 테스트: 모든 핵심 기능
- 통합 테스트: 데이터베이스 연동
- UI 테스트: 모든 사용자 상호작용
- 성능 테스트: 대용량 데이터 처리

## 10. 배포 요구사항
- Python 3.8 이상
- PyQt6 6.4.0 이상
- Supabase 클라이언트 라이브러리
- 인터넷 연결 필요
- 최소 4GB RAM
- 최소 1GB 저장 공간 