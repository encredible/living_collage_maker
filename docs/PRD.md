# 🖥️ 데스크톱 가구 콜라주 앱 - PRD

## 📋 목차
1. [개요](#개요)
2. [기술 스택](#-기술-스택)
3. [시스템 아키텍처](#시스템-아키텍처)
4. [주요 기능](#-주요-기능)
5. [데이터베이스 구조](#데이터베이스-구조)
6. [UI/UX 상세 명세](#uiux-상세-명세)
7. [개발 일정](#개발-일정)
8. [테스트 계획](#테스트-계획)

## 개요
- **제품명**: Living Collage Maker
- **목적**: 사용자가 가구 이미지를 드래그 앤 드롭으로 배치하여 인테리어 콜라주를 만들 수 있는 데스크톱 애플리케이션
- **타겟 사용자**: 인테리어 디자이너, 가구 쇼핑을 계획하는 일반 사용자

## 🛠️ 기술 스택

| 영역             | 기술                                  |
|------------------|---------------------------------------|
| 언어             | Python                                |
| GUI 프레임워크    | PyQt5 또는 PyQt6                      |
| 백엔드 데이터     | Supabase (PostgreSQL + Storage API)  |
| 이미지 처리       | PIL, Qt 이미지 기능 (`QPixmap`, etc.)|

---

## 🎯 주요 기능

### 1. 🆕 콜라주 생성
- 앱 실행 후 "새 콜라주 만들기" 클릭 시 **사용자로부터 캔버스의 가로/세로 크기를 입력** 받음
- 해당 크기로 빈 캔버스 생성

---

### 2. 🖼️ 캔버스 기능

#### 2.1 이미지 배치
- 우측 탐색 패널에서 썸네일 이미지를 캔버스로 드래그하여 추가

#### 2.2 이미지 크기 조절
- 마우스로 모서리를 드래그하여 이미지 크기 변경
- **가로 세로 비율은 원본 비율 유지**

#### 2.3 이미지 우클릭 메뉴
- 이미지 우클릭 시 컨텍스트 메뉴 제공
  - 🔁 다른 이미지로 교체 (동일 카테고리)
  - 🗑️ 삭제

---

### 3. 🪟 우측 가구 탐색 패널

- Supabase 데이터베이스에 있는 전체 가구 리스트 표시
- 각 항목은 다음 정보 포함:
  - 썸네일 이미지
  - 이름
  - 카테고리
  - 브랜드
  - 가격
- 실시간 텍스트 기반 **검색 기능 제공**
- 썸네일 이미지를 캔버스로 드래그 앤 드롭 가능

---

### 4. 🧾 하단 정보 패널

- 현재 콜라주에 배치된 모든 가구 리스트 표시
  - 이름, 카테고리, 가격 등
- 모든 가구의 **총 가격 합계도 하단에 표시**

---

### 5. 💾 저장 및 불러오기 기능

#### 5.1 저장
- 현재 콜라주 정보를 JSON 형태로 로컬에 저장
  - 포함 정보: 이미지 위치, 크기, 가구 ID 등

#### 5.2 불러오기
- 기존 JSON 파일을 열어 콜라주 상태 복원

---

### 6. 📤 콜라주 내보내기

#### 6.1 이미지로 저장
- 현재 캔버스 전체를 하나의 이미지(.png, .jpg 등)로 저장

#### 6.2 마크다운으로 저장
- 현재 콜라주에 포함된 모든 가구 정보를 `.md` 형식으로 저장

## 시스템 아키텍처
### 클라이언트-서버 구조
- **클라이언트**: PyQt 기반 데스크톱 앱
- **서버**: Supabase (PostgreSQL + Storage)
- **통신**: REST API

### 데이터 흐름
1. 앱 시작 시 Supabase에서 가구 데이터 로드
2. 이미지 파일은 Supabase Storage에서 관리
3. 콜라주 저장 시 로컬 JSON 파일로 저장

## UI/UX 상세 명세
### 메인 화면 레이아웃
```
+------------------+------------------+
|                  |                  |
|                  |    탐색 패널       |
|     캔버스         |  (가구 리스트)     |
|                  |                  |
|                  |                  |
+------------------+------------------+
|           하단 정보 패널            |
+------------------------------------+
```

### 색상 팔레트
- **주요 색상**: #2C3E50 (진한 파란색)
- **보조 색상**: #ECF0F1 (밝은 회색)
- **강조 색상**: #E74C3C (빨간색)

### 폰트
- **기본 폰트**: Noto Sans KR
- **제목**: 16px
- **본문**: 14px
- **라벨**: 12px

## 개발 일정
### 1단계: 기본 기능 구현 (2주)
- [ ] 프로젝트 설정 및 기본 UI 구현
- [ ] Supabase 연동
- [ ] 기본 드래그 앤 드롭 기능

### 2단계: 핵심 기능 구현 (3주)
- [ ] 이미지 크기 조절
- [ ] 저장/불러오기 기능
- [ ] 가구 정보 표시

### 3단계: 고도화 (2주)
- [ ] 검색 기능
- [ ] 내보내기 기능
- [ ] UI/UX 개선

## 테스트 계획
### 단위 테스트
- 이미지 처리 기능
- 데이터베이스 연동
- UI 컴포넌트

### 통합 테스트
- 드래그 앤 드롭 기능
- 저장/불러오기 기능
- 내보내기 기능

### 성능 테스트
- 대용량 이미지 처리
- 동시 다중 사용자 처리
- 메모리 사용량

```markdown
## 📦 소파 - IKEA
- **이름**: Friheten
- **카테고리**: 소파
- **가격**: ₩399,000
- **링크**: [제품 보러가기](https://www.ikea.com/fr/ko/friheten)

---

## 🪑 의자 - Muji
- **이름**: 좌식의자 3단
- **카테고리**: 의자
- **가격**: ₩120,000
- **링크**: [제품 보러가기](https://www.muji.com/kr/seating)

...

**💰 총 가격**: ₩519,000

## Supabase 테이블 구조

1. 가구 테이블 (furniture)
   - id: uuid (기본 키)
   - brand: text
   - name: text
   - description: text
   - image_filename: text
   - link: text
   - price: integer
   - type: text
   - color: text
   - locations: text[]
   - styles: text[]
   - width: integer
   - depth: integer
   - height: integer
   - seat_height: integer
   - author: text
   - created_at: timestamp

2. 메타데이터 테이블 (metadata)
   - id: uuid (기본 키)
   - name: text
   - type: text ('brand', 'type', 'location', 'style', 'color', 'author')

## Supabase Storage 정보
1. bucket 이름: furniture-images